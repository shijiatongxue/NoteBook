# == 和 === 的区别

大家都知道==是先转换类型，后比较；后者是仅比较不转换。

## 相等==

转换规则：

- 如果有一个操作符是布尔值，则在比较前将其转换为数值；
- 如果一个操作数时字符串，另一个是数值，在比较前把字符串转为数值；
- 如果一个是对象，另一个不是，则调用对象的valueOf()方法，用得到的基本类型值按照前面的规则进行比较。

```js
false == '0'; // true

// 比较过程
// 1. Number(false) == '0' => 0 == '0'
// 2. 0 == Number('0')     => 0 == 0 
// 3. 返回ture
```

另外，相等操作符还做了以下规定：

- null和undefine相等；
- 要比较相等性之前，不能将null和undefined转换成其他任何值；
- 如果有一个操作数是NaN，则相等操作符返回false；
- 另个操作符都是对象，则比较它们是不是一个对象。如果是，则相等。

```js
false == null; // false

// 比较过程
// 1. Number(false) == null => 0 == null
// 2. 返回false
```

```js
// 对象的比较
let a = {};
let b = a;
a == b; // true

let c = {};
c == a; // false
```

## 全等===

除了不转换操作数之外，全等操作符和相等操作符没有区别。

```js
null == undefined; // true，因为它们类似
null === undefined; // false，因为它们类型不同
```

---

参考：JavaScript高级程序设计